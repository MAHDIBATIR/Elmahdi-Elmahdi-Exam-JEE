{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/credit.service\";\nimport * as i2 from \"../../../services/client.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = function (a1) {\n  return [\"/clients\", a1, \"credits\", \"nouveau\"];\n};\nfunction CreditListComponent_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵelement(1, \"i\", 10);\n    i0.ɵɵtext(2, \" Nouveau Cr\\u00E9dit \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, ctx_r0.clientId));\n  }\n}\nfunction CreditListComponent_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 11);\n    i0.ɵɵelement(1, \"i\", 12);\n    i0.ɵɵtext(2, \" Retour aux Clients \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreditListComponent_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵelement(1, \"i\", 10);\n    i0.ɵɵtext(2, \" Nouveau Cr\\u00E9dit \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreditListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"span\", 16);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CreditListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.error, \" \");\n  }\n}\nfunction CreditListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.clientId ? \"Ce client n'a pas de cr\\u00E9dits.\" : \"Aucun cr\\u00E9dit disponible.\", \" \");\n  }\n}\nconst _c1 = function (a0, a1, a2) {\n  return {\n    \"badge bg-success\": a0,\n    \"badge bg-danger\": a1,\n    \"badge bg-warning text-dark\": a2\n  };\n};\nconst _c2 = function (a1) {\n  return [\"/credits\", a1];\n};\nconst _c3 = function (a1) {\n  return [\"/credits\", a1, \"remboursements\"];\n};\nfunction CreditListComponent_div_11_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\")(17, \"span\", 22);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"td\")(20, \"div\", 23)(21, \"a\", 24);\n    i0.ɵɵelement(22, \"i\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"a\", 26);\n    i0.ɵɵelement(24, \"i\", 27);\n    i0.ɵɵtext(25, \" Remboursements \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function CreditListComponent_div_11_tr_21_Template_button_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const credit_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.deleteCredit(credit_r8.id));\n    });\n    i0.ɵɵelement(27, \"i\", 29);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const credit_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(credit_r8.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.getCreditType(credit_r8));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 10, credit_r8.montant, \"EUR\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(credit_r8.duree);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 13, credit_r8.tauxInteret, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 16, credit_r8.date, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(19, _c1, credit_r8.etat === \"ACCEPTE\", credit_r8.etat === \"REFUSE\", credit_r8.etat === \"EN_ATTENTE\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", credit_r8.etat, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(23, _c2, credit_r8.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(25, _c3, credit_r8.id));\n  }\n}\nfunction CreditListComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"table\", 20)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Montant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Dur\\u00E9e (mois)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Taux (%)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"\\u00C9tat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\");\n    i0.ɵɵtemplate(21, CreditListComponent_div_11_tr_21_Template, 28, 27, \"tr\", 21);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.credits);\n  }\n}\nexport class CreditListComponent {\n  constructor(creditService, clientService, route) {\n    this.creditService = creditService;\n    this.clientService = clientService;\n    this.route = route;\n    this.credits = [];\n    this.clientName = '';\n    this.loading = true;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('clientId');\n      if (id) {\n        this.clientId = +id;\n        this.loadClientCredits(this.clientId);\n        this.loadClientName(this.clientId);\n      } else {\n        this.loadAllCredits();\n      }\n    });\n  }\n  loadAllCredits() {\n    this.loading = true;\n    this.creditService.getAllCredits().subscribe({\n      next: data => {\n        this.credits = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Erreur lors du chargement des crédits.';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  loadClientCredits(clientId) {\n    this.loading = true;\n    this.creditService.getCreditsByClient(clientId).subscribe({\n      next: data => {\n        this.credits = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Erreur lors du chargement des crédits du client.';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  loadClientName(clientId) {\n    this.clientService.getClient(clientId).subscribe({\n      next: client => {\n        this.clientName = `${client.prenom} ${client.nom}`;\n      },\n      error: err => {\n        console.error('Erreur lors du chargement des détails du client', err);\n      }\n    });\n  }\n  getCreditType(credit) {\n    if ('montantAchat' in credit) {\n      return 'Immobilier';\n    } else if ('motif' in credit) {\n      return 'Personnel';\n    } else if ('nomProjet' in credit) {\n      return 'Professionnel';\n    }\n    return 'Inconnu';\n  }\n  deleteCredit(id) {\n    if (confirm('Êtes-vous sûr de vouloir supprimer ce crédit?')) {\n      this.creditService.deleteCredit(id).subscribe({\n        next: () => {\n          this.credits = this.credits.filter(credit => credit.id !== id);\n        },\n        error: err => {\n          this.error = 'Erreur lors de la suppression du crédit.';\n          console.error(err);\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function CreditListComponent_Factory(t) {\n      return new (t || CreditListComponent)(i0.ɵɵdirectiveInject(i1.CreditService), i0.ɵɵdirectiveInject(i2.ClientService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CreditListComponent,\n      selectors: [[\"app-credit-list\"]],\n      decls: 12,\n      vars: 8,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [\"class\", \"btn btn-primary me-2\", 3, \"routerLink\", 4, \"ngIf\"], [\"routerLink\", \"/clients\", \"class\", \"btn btn-secondary\", 4, \"ngIf\"], [\"routerLink\", \"/credits/nouveau\", \"class\", \"btn btn-primary\", 4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"me-2\", 3, \"routerLink\"], [1, \"bi\", \"bi-plus-circle\"], [\"routerLink\", \"/clients\", 1, \"btn\", \"btn-secondary\"], [1, \"bi\", \"bi-arrow-left\"], [\"routerLink\", \"/credits/nouveau\", 1, \"btn\", \"btn-primary\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"alert\", \"alert-info\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [1, \"btn-group\"], [1, \"btn\", \"btn-sm\", \"btn-info\", 3, \"routerLink\"], [1, \"bi\", \"bi-eye\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"routerLink\"], [1, \"bi\", \"bi-cash\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"bi\", \"bi-trash\"]],\n      template: function CreditListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\");\n          i0.ɵɵtemplate(5, CreditListComponent_a_5_Template, 3, 3, \"a\", 2);\n          i0.ɵɵtemplate(6, CreditListComponent_a_6_Template, 3, 0, \"a\", 3);\n          i0.ɵɵtemplate(7, CreditListComponent_a_7_Template, 3, 0, \"a\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, CreditListComponent_div_8_Template, 4, 0, \"div\", 5);\n          i0.ɵɵtemplate(9, CreditListComponent_div_9_Template, 2, 1, \"div\", 6);\n          i0.ɵɵtemplate(10, CreditListComponent_div_10_Template, 2, 1, \"div\", 7);\n          i0.ɵɵtemplate(11, CreditListComponent_div_11_Template, 22, 1, \"div\", 8);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.clientId ? \"Cr\\u00E9dits du client: \" + ctx.clientName : \"Tous les Cr\\u00E9dits\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.clientId);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.clientId);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.clientId);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.credits.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.credits.length > 0);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i3.RouterLink, i4.DecimalPipe, i4.CurrencyPipe, i4.DatePipe],\n      styles: [\".table[_ngcontent-%COMP%] {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n.btn-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 5px;\\n}\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 5px 10px;\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jcmVkaXQvY3JlZGl0LWxpc3QvY3JlZGl0LWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLGFBQWE7RUFDYixRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIudGFibGUge1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbi5idG4tZ3JvdXAge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiA1cHg7XHJcbn1cclxuXHJcbi5iYWRnZSB7XHJcbiAgcGFkZGluZzogNXB4IDEwcHg7XHJcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction1","_c0","ctx_r0","clientId","ɵɵadvance","ɵɵtextInterpolate1","ctx_r4","error","ctx_r5","ɵɵlistener","CreditListComponent_div_11_tr_21_Template_button_click_26_listener","restoredCtx","ɵɵrestoreView","_r10","credit_r8","$implicit","ctx_r9","ɵɵnextContext","ɵɵresetView","deleteCredit","id","ɵɵtextInterpolate","ctx_r7","getCreditType","ɵɵpipeBind2","montant","duree","tauxInteret","date","ɵɵpureFunction3","_c1","etat","_c2","_c3","ɵɵtemplate","CreditListComponent_div_11_tr_21_Template","ctx_r6","credits","CreditListComponent","constructor","creditService","clientService","route","clientName","loading","ngOnInit","paramMap","subscribe","params","get","loadClientCredits","loadClientName","loadAllCredits","getAllCredits","next","data","err","console","getCreditsByClient","getClient","client","prenom","nom","credit","confirm","filter","ɵɵdirectiveInject","i1","CreditService","i2","ClientService","i3","ActivatedRoute","selectors","decls","vars","consts","template","CreditListComponent_Template","rf","ctx","CreditListComponent_a_5_Template","CreditListComponent_a_6_Template","CreditListComponent_a_7_Template","CreditListComponent_div_8_Template","CreditListComponent_div_9_Template","CreditListComponent_div_10_Template","CreditListComponent_div_11_Template","length"],"sources":["C:\\ENSET\\S4\\JEE\\Elbatir_Elmahdi\\frontend\\src\\app\\components\\credit\\credit-list\\credit-list.component.ts","C:\\ENSET\\S4\\JEE\\Elbatir_Elmahdi\\frontend\\src\\app\\components\\credit\\credit-list\\credit-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Credit } from '../../../models/credit.model';\r\nimport { CreditService } from '../../../services/credit.service';\r\nimport { ClientService } from '../../../services/client.service';\r\n\r\n@Component({\r\n  selector: 'app-credit-list',\r\n  templateUrl: './credit-list.component.html',\r\n  styleUrls: ['./credit-list.component.css']\r\n})\r\nexport class CreditListComponent implements OnInit {\r\n  credits: Credit[] = [];\r\n  clientId?: number;\r\n  clientName = '';\r\n  loading = true;\r\n  error: string | null = null;\r\n\r\n  constructor(\r\n    private creditService: CreditService,\r\n    private clientService: ClientService,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe(params => {\r\n      const id = params.get('clientId');\r\n      if (id) {\r\n        this.clientId = +id;\r\n        this.loadClientCredits(this.clientId);\r\n        this.loadClientName(this.clientId);\r\n      } else {\r\n        this.loadAllCredits();\r\n      }\r\n    });\r\n  }\r\n\r\n  loadAllCredits(): void {\r\n    this.loading = true;\r\n    this.creditService.getAllCredits().subscribe({\r\n      next: (data) => {\r\n        this.credits = data;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Erreur lors du chargement des crédits.';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadClientCredits(clientId: number): void {\r\n    this.loading = true;\r\n    this.creditService.getCreditsByClient(clientId).subscribe({\r\n      next: (data) => {\r\n        this.credits = data;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Erreur lors du chargement des crédits du client.';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadClientName(clientId: number): void {\r\n    this.clientService.getClient(clientId).subscribe({\r\n      next: (client) => {\r\n        this.clientName = `${client.prenom} ${client.nom}`;\r\n      },\r\n      error: (err) => {\r\n        console.error('Erreur lors du chargement des détails du client', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  getCreditType(credit: Credit): string {\r\n    if ('montantAchat' in credit) {\r\n      return 'Immobilier';\r\n    } else if ('motif' in credit) {\r\n      return 'Personnel';\r\n    } else if ('nomProjet' in credit) {\r\n      return 'Professionnel';\r\n    }\r\n    return 'Inconnu';\r\n  }\r\n\r\n  deleteCredit(id: number): void {\r\n    if (confirm('Êtes-vous sûr de vouloir supprimer ce crédit?')) {\r\n      this.creditService.deleteCredit(id).subscribe({\r\n        next: () => {\r\n          this.credits = this.credits.filter(credit => credit.id !== id);\r\n        },\r\n        error: (err) => {\r\n          this.error = 'Erreur lors de la suppression du crédit.';\r\n          console.error(err);\r\n        }\r\n      });\r\n    }\r\n  }\r\n} ","<div class=\"container mt-4\">\r\n  <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n    <h2>{{ clientId ? 'Crédits du client: ' + clientName : 'Tous les Crédits' }}</h2>\r\n    <div>\r\n      <a *ngIf=\"clientId\" [routerLink]=\"['/clients', clientId, 'credits', 'nouveau']\" class=\"btn btn-primary me-2\">\r\n        <i class=\"bi bi-plus-circle\"></i> Nouveau Crédit\r\n      </a>\r\n      <a *ngIf=\"clientId\" routerLink=\"/clients\" class=\"btn btn-secondary\">\r\n        <i class=\"bi bi-arrow-left\"></i> Retour aux Clients\r\n      </a>\r\n      <a *ngIf=\"!clientId\" routerLink=\"/credits/nouveau\" class=\"btn btn-primary\">\r\n        <i class=\"bi bi-plus-circle\"></i> Nouveau Crédit\r\n      </a>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"loading\" class=\"text-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"error\" class=\"alert alert-danger\">\r\n    {{ error }}\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && !error && credits.length === 0\" class=\"alert alert-info\">\r\n    {{ clientId ? 'Ce client n\\'a pas de crédits.' : 'Aucun crédit disponible.' }}\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && !error && credits.length > 0\" class=\"table-responsive\">\r\n    <table class=\"table table-striped table-hover\">\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Type</th>\r\n          <th>Montant</th>\r\n          <th>Durée (mois)</th>\r\n          <th>Taux (%)</th>\r\n          <th>Date</th>\r\n          <th>État</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let credit of credits\">\r\n          <td>{{ credit.id }}</td>\r\n          <td>{{ getCreditType(credit) }}</td>\r\n          <td>{{ credit.montant | currency:'EUR' }}</td>\r\n          <td>{{ credit.duree }}</td>\r\n          <td>{{ credit.tauxInteret | number:'1.2-2' }}</td>\r\n          <td>{{ credit.date | date:'dd/MM/yyyy' }}</td>\r\n          <td>\r\n            <span [ngClass]=\"{\r\n              'badge bg-success': credit.etat === 'ACCEPTE',\r\n              'badge bg-danger': credit.etat === 'REFUSE',\r\n              'badge bg-warning text-dark': credit.etat === 'EN_ATTENTE'\r\n            }\">\r\n              {{ credit.etat }}\r\n            </span>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group\">\r\n              <a [routerLink]=\"['/credits', credit.id]\" class=\"btn btn-sm btn-info\">\r\n                <i class=\"bi bi-eye\"></i>\r\n              </a>\r\n              <a [routerLink]=\"['/credits', credit.id, 'remboursements']\" class=\"btn btn-sm btn-primary\">\r\n                <i class=\"bi bi-cash\"></i> Remboursements\r\n              </a>\r\n              <button (click)=\"deleteCredit(credit.id!)\" class=\"btn btn-sm btn-danger\">\r\n                <i class=\"bi bi-trash\"></i>\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}