{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/client.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ClientFormComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"span\", 6);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ClientFormComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction ClientFormComponent_form_5_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Le nom est obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Le nom ne peut pas d\\u00E9passer 50 caract\\u00E8res\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, ClientFormComponent_form_5_div_6_div_1_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(2, ClientFormComponent_form_5_div_6_div_2_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.f[\"nom\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.f[\"nom\"].errors[\"maxlength\"]);\n  }\n}\nfunction ClientFormComponent_form_5_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Le pr\\u00E9nom est obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_11_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Le pr\\u00E9nom ne peut pas d\\u00E9passer 50 caract\\u00E8res\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, ClientFormComponent_form_5_div_11_div_1_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(2, ClientFormComponent_form_5_div_11_div_2_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f[\"prenom\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f[\"prenom\"].errors[\"maxlength\"]);\n  }\n}\nfunction ClientFormComponent_form_5_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"La date de naissance est obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, ClientFormComponent_form_5_div_17_div_1_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.f[\"dateNaissance\"].errors[\"required\"]);\n  }\n}\nfunction ClientFormComponent_form_5_div_22_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Le t\\u00E9l\\u00E9phone est obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_22_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Format de t\\u00E9l\\u00E9phone invalide\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, ClientFormComponent_form_5_div_22_div_1_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(2, ClientFormComponent_form_5_div_22_div_2_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.f[\"telephone\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.f[\"telephone\"].errors[\"pattern\"]);\n  }\n}\nfunction ClientFormComponent_form_5_div_27_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"L'email est obligatoire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_27_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Format d'email invalide\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientFormComponent_form_5_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, ClientFormComponent_form_5_div_27_div_1_Template, 2, 0, \"div\", 28);\n    i0.ɵɵtemplate(2, ClientFormComponent_form_5_div_27_div_2_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.f[\"email\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.f[\"email\"].errors[\"email\"]);\n  }\n}\nfunction ClientFormComponent_form_5_span_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 29);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction ClientFormComponent_form_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 8);\n    i0.ɵɵlistener(\"ngSubmit\", function ClientFormComponent_form_5_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 9)(2, \"div\", 10)(3, \"label\", 11);\n    i0.ɵɵtext(4, \"Nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 12);\n    i0.ɵɵtemplate(6, ClientFormComponent_form_5_div_6_Template, 3, 2, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 10)(8, \"label\", 14);\n    i0.ɵɵtext(9, \"Pr\\u00E9nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 15);\n    i0.ɵɵtemplate(11, ClientFormComponent_form_5_div_11_Template, 3, 2, \"div\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 10)(14, \"label\", 16);\n    i0.ɵɵtext(15, \"Date de naissance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 17);\n    i0.ɵɵtemplate(17, ClientFormComponent_form_5_div_17_Template, 2, 1, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 10)(19, \"label\", 18);\n    i0.ɵɵtext(20, \"T\\u00E9l\\u00E9phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"input\", 19);\n    i0.ɵɵtemplate(22, ClientFormComponent_form_5_div_22_Template, 3, 2, \"div\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 20)(24, \"label\", 21);\n    i0.ɵɵtext(25, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"input\", 22);\n    i0.ɵɵtemplate(27, ClientFormComponent_form_5_div_27_Template, 3, 2, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 23)(29, \"button\", 24);\n    i0.ɵɵtemplate(30, ClientFormComponent_form_5_span_30_Template, 1, 0, \"span\", 25);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"a\", 26);\n    i0.ɵɵtext(33, \"Annuler\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.clientForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, ctx_r2.submitted && ctx_r2.f[\"nom\"].errors));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.submitted && ctx_r2.f[\"nom\"].errors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c0, ctx_r2.submitted && ctx_r2.f[\"prenom\"].errors));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.submitted && ctx_r2.f[\"prenom\"].errors);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ctx_r2.submitted && ctx_r2.f[\"dateNaissance\"].errors));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.submitted && ctx_r2.f[\"dateNaissance\"].errors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(20, _c0, ctx_r2.submitted && ctx_r2.f[\"telephone\"].errors));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.submitted && ctx_r2.f[\"telephone\"].errors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(22, _c0, ctx_r2.submitted && ctx_r2.f[\"email\"].errors));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.submitted && ctx_r2.f[\"email\"].errors);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isEditMode ? \"Mettre \\u00E0 jour\" : \"Ajouter\", \" \");\n  }\n}\nexport class ClientFormComponent {\n  constructor(formBuilder, clientService, route, router) {\n    this.formBuilder = formBuilder;\n    this.clientService = clientService;\n    this.route = route;\n    this.router = router;\n    this.isEditMode = false;\n    this.loading = false;\n    this.error = null;\n    this.submitted = false;\n  }\n  ngOnInit() {\n    this.initForm();\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.isEditMode = true;\n        this.clientId = +id;\n        this.loadClient(this.clientId);\n      }\n    });\n  }\n  initForm() {\n    this.clientForm = this.formBuilder.group({\n      nom: ['', [Validators.required, Validators.maxLength(50)]],\n      prenom: ['', [Validators.required, Validators.maxLength(50)]],\n      dateNaissance: ['', Validators.required],\n      telephone: ['', [Validators.required, Validators.pattern(/^[0-9+\\-\\s]+$/)]],\n      email: ['', [Validators.required, Validators.email]]\n    });\n  }\n  loadClient(id) {\n    this.loading = true;\n    this.clientService.getClient(id).subscribe({\n      next: client => {\n        this.clientForm.patchValue({\n          nom: client.nom,\n          prenom: client.prenom,\n          dateNaissance: this.formatDate(new Date(client.dateNaissance)),\n          telephone: client.telephone,\n          email: client.email\n        });\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load client data.';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  onSubmit() {\n    this.submitted = true;\n    if (this.clientForm.invalid) {\n      return;\n    }\n    const client = {\n      ...this.clientForm.value,\n      dateNaissance: new Date(this.clientForm.value.dateNaissance)\n    };\n    this.loading = true;\n    if (this.isEditMode && this.clientId) {\n      this.clientService.updateClient(this.clientId, client).subscribe({\n        next: () => {\n          this.loading = false;\n          this.router.navigate(['/clients']);\n        },\n        error: err => {\n          this.error = 'Failed to update client. Please try again.';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    } else {\n      this.clientService.createClient(client).subscribe({\n        next: () => {\n          this.loading = false;\n          this.router.navigate(['/clients']);\n        },\n        error: err => {\n          this.error = 'Failed to create client. Please try again.';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    }\n  }\n  formatDate(date) {\n    const d = new Date(date);\n    let month = '' + (d.getMonth() + 1);\n    let day = '' + d.getDate();\n    const year = d.getFullYear();\n    if (month.length < 2) month = '0' + month;\n    if (day.length < 2) day = '0' + day;\n    return [year, month, day].join('-');\n  }\n  get f() {\n    return this.clientForm.controls;\n  }\n  static {\n    this.ɵfac = function ClientFormComponent_Factory(t) {\n      return new (t || ClientFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ClientService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClientFormComponent,\n      selectors: [[\"app-client-form\"]],\n      decls: 6,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-4\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"nom\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"nom\", \"formControlName\", \"nom\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"prenom\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"prenom\", \"formControlName\", \"prenom\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"dateNaissance\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"dateNaissance\", \"formControlName\", \"dateNaissance\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"telephone\", 1, \"form-label\"], [\"type\", \"tel\", \"id\", \"telephone\", \"formControlName\", \"telephone\", 1, \"form-control\", 3, \"ngClass\"], [1, \"mb-3\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"ngClass\"], [1, \"d-flex\", \"gap-2\", \"mt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-1\", \"role\", \"status\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"routerLink\", \"/clients\", 1, \"btn\", \"btn-secondary\"], [1, \"invalid-feedback\"], [4, \"ngIf\"], [\"role\", \"status\", \"aria-hidden\", \"true\", 1, \"spinner-border\", \"spinner-border-sm\", \"me-1\"]],\n      template: function ClientFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ClientFormComponent_div_3_Template, 4, 0, \"div\", 1);\n          i0.ɵɵtemplate(4, ClientFormComponent_div_4_Template, 2, 1, \"div\", 2);\n          i0.ɵɵtemplate(5, ClientFormComponent_form_5_Template, 34, 24, \"form\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"\", ctx.isEditMode ? \"Modifier\" : \"Ajouter\", \" Client\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading || ctx.isEditMode);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgIf, i3.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".form-control.ng-invalid.ng-touched[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n\\n.form-label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jbGllbnQvY2xpZW50LWZvcm0vY2xpZW50LWZvcm0uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtLWNvbnRyb2wubmctaW52YWxpZC5uZy10b3VjaGVkIHtcclxuICBib3JkZXItY29sb3I6ICNkYzM1NDU7XHJcbn1cclxuXHJcbi5mb3JtLWxhYmVsIHtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59ICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","error","ɵɵtemplate","ClientFormComponent_form_5_div_6_div_1_Template","ClientFormComponent_form_5_div_6_div_2_Template","ɵɵproperty","ctx_r3","f","errors","ClientFormComponent_form_5_div_11_div_1_Template","ClientFormComponent_form_5_div_11_div_2_Template","ctx_r4","ClientFormComponent_form_5_div_17_div_1_Template","ctx_r5","ClientFormComponent_form_5_div_22_div_1_Template","ClientFormComponent_form_5_div_22_div_2_Template","ctx_r6","ClientFormComponent_form_5_div_27_div_1_Template","ClientFormComponent_form_5_div_27_div_2_Template","ctx_r7","ɵɵelement","ɵɵlistener","ClientFormComponent_form_5_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r19","ctx_r18","ɵɵnextContext","ɵɵresetView","onSubmit","ClientFormComponent_form_5_div_6_Template","ClientFormComponent_form_5_div_11_Template","ClientFormComponent_form_5_div_17_Template","ClientFormComponent_form_5_div_22_Template","ClientFormComponent_form_5_div_27_Template","ClientFormComponent_form_5_span_30_Template","ctx_r2","clientForm","ɵɵpureFunction1","_c0","submitted","loading","isEditMode","ClientFormComponent","constructor","formBuilder","clientService","route","router","ngOnInit","initForm","paramMap","subscribe","params","id","get","clientId","loadClient","group","nom","required","maxLength","prenom","dateNaissance","telephone","pattern","email","getClient","next","client","patchValue","formatDate","Date","err","console","invalid","value","updateClient","navigate","createClient","date","d","month","getMonth","day","getDate","year","getFullYear","length","join","controls","ɵɵdirectiveInject","i1","FormBuilder","i2","ClientService","i3","ActivatedRoute","Router","selectors","decls","vars","consts","template","ClientFormComponent_Template","rf","ctx","ClientFormComponent_div_3_Template","ClientFormComponent_div_4_Template","ClientFormComponent_form_5_Template"],"sources":["C:\\ENSET\\S4\\JEE\\Elbatir_Elmahdi\\frontend\\src\\app\\components\\client\\client-form\\client-form.component.ts","C:\\ENSET\\S4\\JEE\\Elbatir_Elmahdi\\frontend\\src\\app\\components\\client\\client-form\\client-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Client } from '../../../models/client.model';\r\nimport { ClientService } from '../../../services/client.service';\r\n\r\n@Component({\r\n  selector: 'app-client-form',\r\n  templateUrl: './client-form.component.html',\r\n  styleUrls: ['./client-form.component.css']\r\n})\r\nexport class ClientFormComponent implements OnInit {\r\n  clientForm!: FormGroup;\r\n  isEditMode = false;\r\n  clientId?: number;\r\n  loading = false;\r\n  error: string | null = null;\r\n  submitted = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private clientService: ClientService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n\r\n    this.route.paramMap.subscribe(params => {\r\n      const id = params.get('id');\r\n      if (id) {\r\n        this.isEditMode = true;\r\n        this.clientId = +id;\r\n        this.loadClient(this.clientId);\r\n      }\r\n    });\r\n  }\r\n\r\n  initForm(): void {\r\n    this.clientForm = this.formBuilder.group({\r\n      nom: ['', [Validators.required, Validators.maxLength(50)]],\r\n      prenom: ['', [Validators.required, Validators.maxLength(50)]],\r\n      dateNaissance: ['', Validators.required],\r\n      telephone: ['', [Validators.required, Validators.pattern(/^[0-9+\\-\\s]+$/)]],\r\n      email: ['', [Validators.required, Validators.email]]\r\n    });\r\n  }\r\n\r\n  loadClient(id: number): void {\r\n    this.loading = true;\r\n    this.clientService.getClient(id).subscribe({\r\n      next: (client) => {\r\n        this.clientForm.patchValue({\r\n          nom: client.nom,\r\n          prenom: client.prenom,\r\n          dateNaissance: this.formatDate(new Date(client.dateNaissance)),\r\n          telephone: client.telephone,\r\n          email: client.email\r\n        });\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Failed to load client data.';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.submitted = true;\r\n\r\n    if (this.clientForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    const client: Client = {\r\n      ...this.clientForm.value,\r\n      dateNaissance: new Date(this.clientForm.value.dateNaissance)\r\n    };\r\n\r\n    this.loading = true;\r\n\r\n    if (this.isEditMode && this.clientId) {\r\n      this.clientService.updateClient(this.clientId, client).subscribe({\r\n        next: () => {\r\n          this.loading = false;\r\n          this.router.navigate(['/clients']);\r\n        },\r\n        error: (err) => {\r\n          this.error = 'Failed to update client. Please try again.';\r\n          this.loading = false;\r\n          console.error(err);\r\n        }\r\n      });\r\n    } else {\r\n      this.clientService.createClient(client).subscribe({\r\n        next: () => {\r\n          this.loading = false;\r\n          this.router.navigate(['/clients']);\r\n        },\r\n        error: (err) => {\r\n          this.error = 'Failed to create client. Please try again.';\r\n          this.loading = false;\r\n          console.error(err);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private formatDate(date: Date): string {\r\n    const d = new Date(date);\r\n    let month = '' + (d.getMonth() + 1);\r\n    let day = '' + d.getDate();\r\n    const year = d.getFullYear();\r\n\r\n    if (month.length < 2) month = '0' + month;\r\n    if (day.length < 2) day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n  }\r\n\r\n  get f() { return this.clientForm.controls; }\r\n} ","<div class=\"container mt-4\">\r\n  <h2>{{ isEditMode ? 'Modifier' : 'Ajouter' }} Client</h2>\r\n\r\n  <div *ngIf=\"loading\" class=\"text-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"error\" class=\"alert alert-danger\">\r\n    {{ error }}\r\n  </div>\r\n\r\n  <form [formGroup]=\"clientForm\" (ngSubmit)=\"onSubmit()\" *ngIf=\"!loading || isEditMode\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"nom\" class=\"form-label\">Nom</label>\r\n        <input \r\n          type=\"text\" \r\n          class=\"form-control\" \r\n          id=\"nom\" \r\n          formControlName=\"nom\" \r\n          [ngClass]=\"{ 'is-invalid': submitted && f['nom'].errors }\"\r\n        >\r\n        <div *ngIf=\"submitted && f['nom'].errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f['nom'].errors['required']\">Le nom est obligatoire</div>\r\n          <div *ngIf=\"f['nom'].errors['maxlength']\">Le nom ne peut pas dépasser 50 caractères</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"prenom\" class=\"form-label\">Prénom</label>\r\n        <input \r\n          type=\"text\" \r\n          class=\"form-control\" \r\n          id=\"prenom\" \r\n          formControlName=\"prenom\"\r\n          [ngClass]=\"{ 'is-invalid': submitted && f['prenom'].errors }\"\r\n        >\r\n        <div *ngIf=\"submitted && f['prenom'].errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f['prenom'].errors['required']\">Le prénom est obligatoire</div>\r\n          <div *ngIf=\"f['prenom'].errors['maxlength']\">Le prénom ne peut pas dépasser 50 caractères</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"dateNaissance\" class=\"form-label\">Date de naissance</label>\r\n        <input \r\n          type=\"date\" \r\n          class=\"form-control\" \r\n          id=\"dateNaissance\" \r\n          formControlName=\"dateNaissance\"\r\n          [ngClass]=\"{ 'is-invalid': submitted && f['dateNaissance'].errors }\"\r\n        >\r\n        <div *ngIf=\"submitted && f['dateNaissance'].errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f['dateNaissance'].errors['required']\">La date de naissance est obligatoire</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"telephone\" class=\"form-label\">Téléphone</label>\r\n        <input \r\n          type=\"tel\" \r\n          class=\"form-control\" \r\n          id=\"telephone\" \r\n          formControlName=\"telephone\"\r\n          [ngClass]=\"{ 'is-invalid': submitted && f['telephone'].errors }\"\r\n        >\r\n        <div *ngIf=\"submitted && f['telephone'].errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f['telephone'].errors['required']\">Le téléphone est obligatoire</div>\r\n          <div *ngIf=\"f['telephone'].errors['pattern']\">Format de téléphone invalide</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <label for=\"email\" class=\"form-label\">Email</label>\r\n      <input \r\n        type=\"email\" \r\n        class=\"form-control\" \r\n        id=\"email\" \r\n        formControlName=\"email\"\r\n        [ngClass]=\"{ 'is-invalid': submitted && f['email'].errors }\"\r\n      >\r\n      <div *ngIf=\"submitted && f['email'].errors\" class=\"invalid-feedback\">\r\n        <div *ngIf=\"f['email'].errors['required']\">L'email est obligatoire</div>\r\n        <div *ngIf=\"f['email'].errors['email']\">Format d'email invalide</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"d-flex gap-2 mt-4\">\r\n      <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loading\">\r\n        <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n        {{ isEditMode ? 'Mettre à jour' : 'Ajouter' }}\r\n      </button>\r\n      <a routerLink=\"/clients\" class=\"btn btn-secondary\">Annuler</a>\r\n    </div>\r\n  </form>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}