{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/remboursement.service\";\nimport * as i2 from \"../../../services/credit.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = function () {\n  return [\"/credits\"];\n};\nfunction RemboursementListComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 8);\n    i0.ɵɵelement(1, \"i\", 9);\n    i0.ɵɵtext(2, \" Retour aux cr\\u00E9dits \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction RemboursementListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"span\", 12);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction RemboursementListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error, \" \");\n  }\n}\nconst _c1 = function (a0, a1, a2) {\n  return {\n    \"badge bg-success\": a0,\n    \"badge bg-danger\": a1,\n    \"badge bg-warning text-dark\": a2\n  };\n};\nfunction RemboursementListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"h5\");\n    i0.ɵɵtext(3, \"D\\u00E9tails du Cr\\u00E9dit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 16)(5, \"div\", 17)(6, \"div\", 18)(7, \"p\")(8, \"strong\");\n    i0.ɵɵtext(9, \"Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"strong\");\n    i0.ɵɵtext(13, \"Montant:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Taux d'int\\u00E9r\\u00EAt:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 18)(22, \"p\")(23, \"strong\");\n    i0.ɵɵtext(24, \"Dur\\u00E9e:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\")(27, \"strong\");\n    i0.ɵɵtext(28, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"p\")(32, \"strong\");\n    i0.ɵɵtext(33, \"\\u00C9tat:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"span\", 19);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.getCreditType(), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(15, 7, ctx_r3.credit.montant, \"EUR\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(20, 10, ctx_r3.credit.tauxInteret, \"1.2-2\"), \"%\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.credit.duree, \" mois\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(30, 13, ctx_r3.credit.date, \"dd/MM/yyyy\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(16, _c1, ctx_r3.credit.etat === \"ACCEPTE\", ctx_r3.credit.etat === \"REFUSE\", ctx_r3.credit.etat === \"EN_ATTENTE\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.credit.etat, \" \");\n  }\n}\nfunction RemboursementListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Aucun \\u00E9ch\\u00E9ancier de remboursement n'est disponible pour ce cr\\u00E9dit. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RemboursementListComponent_div_9_tr_17_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function RemboursementListComponent_div_9_tr_17_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const remboursement_r7 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.markAsPaid(remboursement_r7));\n    });\n    i0.ɵɵelement(1, \"i\", 29);\n    i0.ɵɵtext(2, \" Marquer comme pay\\u00E9 \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r9.paymentProcessing);\n  }\n}\nfunction RemboursementListComponent_div_9_tr_17_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 30);\n    i0.ɵɵelement(1, \"i\", 31);\n    i0.ɵɵtext(2, \" Rembours\\u00E9 \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"table-danger\": a0\n  };\n};\nfunction RemboursementListComponent_div_9_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"span\", 25);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtemplate(16, RemboursementListComponent_div_9_tr_17_button_16_Template, 3, 1, \"button\", 26);\n    i0.ɵɵtemplate(17, RemboursementListComponent_div_9_tr_17_span_17_Template, 3, 0, \"span\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const remboursement_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c2, ctx_r6.isOverdue(remboursement_r7)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r8 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 9, remboursement_r7.dateEcheance, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 12, remboursement_r7.montant, \"EUR\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", remboursement_r7.regle ? \"bg-success\" : \"bg-danger\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", remboursement_r7.regle ? \"Pay\\u00E9\" : \"Non pay\\u00E9\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remboursement_r7.dateRemboursement ? i0.ɵɵpipeBind2(14, 15, remboursement_r7.dateRemboursement, \"dd/MM/yyyy\") : \"N/A\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !remboursement_r7.regle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", remboursement_r7.regle);\n  }\n}\nfunction RemboursementListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"table\", 22)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Num\\u00E9ro\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Date d'\\u00C9ch\\u00E9ance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Montant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"\\u00C9tat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Date de Remboursement\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, RemboursementListComponent_div_9_tr_17_Template, 18, 20, \"tr\", 23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 24)(19, \"div\", 16)(20, \"div\", 17)(21, \"div\", 18)(22, \"p\")(23, \"strong\");\n    i0.ɵɵtext(24, \"Total des \\u00E9ch\\u00E9ances:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\")(27, \"strong\");\n    i0.ɵɵtext(28, \"\\u00C9ch\\u00E9ances pay\\u00E9es:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 18)(31, \"p\")(32, \"strong\");\n    i0.ɵɵtext(33, \"Montant total:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34);\n    i0.ɵɵpipe(35, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"p\")(37, \"strong\");\n    i0.ɵɵtext(38, \"Montant pay\\u00E9:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39);\n    i0.ɵɵpipe(40, \"currency\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.remboursements);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.remboursements.length, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.getPaidRemboursementsCount(), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(35, 5, ctx_r5.getTotalAmount(), \"EUR\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(40, 8, ctx_r5.getPaidAmount(), \"EUR\"), \"\");\n  }\n}\nexport class RemboursementListComponent {\n  constructor(remboursementService, creditService, route, router) {\n    this.remboursementService = remboursementService;\n    this.creditService = creditService;\n    this.route = route;\n    this.router = router;\n    this.remboursements = [];\n    this.loading = true;\n    this.error = null;\n    this.paymentProcessing = false;\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('creditId');\n      if (id) {\n        this.creditId = +id;\n        this.loadRemboursements();\n        this.loadCreditDetails();\n      } else {\n        this.router.navigate(['/credits']);\n      }\n    });\n  }\n  loadRemboursements() {\n    this.loading = true;\n    this.remboursementService.getRemboursementsByCredit(this.creditId).subscribe({\n      next: data => {\n        this.remboursements = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Erreur lors du chargement des remboursements.';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  loadCreditDetails() {\n    this.creditService.getCredit(this.creditId).subscribe({\n      next: data => {\n        this.credit = data;\n      },\n      error: err => {\n        console.error('Erreur lors du chargement des détails du crédit', err);\n      }\n    });\n  }\n  getCreditType() {\n    if (!this.credit) return '';\n    if ('montantAchat' in this.credit) {\n      return 'Immobilier';\n    } else if ('motif' in this.credit) {\n      return 'Personnel';\n    } else if ('nomProjet' in this.credit) {\n      return 'Professionnel';\n    }\n    return 'Inconnu';\n  }\n  markAsPaid(remboursement) {\n    if (remboursement.regle) return;\n    if (confirm('Êtes-vous sûr de vouloir marquer cette échéance comme payée?')) {\n      this.paymentProcessing = true;\n      const today = new Date();\n      this.remboursementService.markAsPaid(remboursement.id, today).subscribe({\n        next: updatedRemboursement => {\n          const index = this.remboursements.findIndex(r => r.id === updatedRemboursement.id);\n          if (index !== -1) {\n            this.remboursements[index] = updatedRemboursement;\n          }\n          this.paymentProcessing = false;\n        },\n        error: err => {\n          this.error = 'Erreur lors de l\\'enregistrement du paiement.';\n          this.paymentProcessing = false;\n          console.error(err);\n        }\n      });\n    }\n  }\n  isOverdue(remboursement) {\n    if (remboursement.regle) return false;\n    const today = new Date();\n    const echeance = new Date(remboursement.dateEcheance);\n    return echeance < today;\n  }\n  getPaidRemboursementsCount() {\n    return this.remboursements.filter(r => r.regle).length;\n  }\n  getTotalAmount() {\n    return this.remboursements.reduce((sum, r) => sum + r.montant, 0);\n  }\n  getPaidAmount() {\n    return this.remboursements.filter(r => r.regle).reduce((sum, r) => sum + r.montant, 0);\n  }\n  static {\n    this.ɵfac = function RemboursementListComponent_Factory(t) {\n      return new (t || RemboursementListComponent)(i0.ɵɵdirectiveInject(i1.RemboursementService), i0.ɵɵdirectiveInject(i2.CreditService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RemboursementListComponent,\n      selectors: [[\"app-remboursement-list\"]],\n      decls: 10,\n      vars: 6,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [\"class\", \"btn btn-secondary\", 3, \"routerLink\", 4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"card mb-4\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [1, \"bi\", \"bi-arrow-left\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"card\", \"mb-4\"], [1, \"card-header\", \"bg-primary\", \"text-white\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-6\"], [3, \"ngClass\"], [1, \"alert\", \"alert-info\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"mt-4\"], [1, \"badge\", 3, \"ngClass\"], [\"class\", \"btn btn-sm btn-success\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"bi\", \"bi-check-circle\"], [1, \"text-muted\"], [1, \"bi\", \"bi-check-circle-fill\"]],\n      template: function RemboursementListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"\\u00C9ch\\u00E9ancier de Remboursement\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, RemboursementListComponent_a_4_Template, 3, 2, \"a\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, RemboursementListComponent_div_5_Template, 4, 0, \"div\", 3);\n          i0.ɵɵtemplate(6, RemboursementListComponent_div_6_Template, 2, 1, \"div\", 4);\n          i0.ɵɵtemplate(7, RemboursementListComponent_div_7_Template, 36, 20, \"div\", 5);\n          i0.ɵɵtemplate(8, RemboursementListComponent_div_8_Template, 2, 0, \"div\", 6);\n          i0.ɵɵtemplate(9, RemboursementListComponent_div_9_Template, 41, 11, \"div\", 7);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.credit);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.credit && !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.remboursements.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.remboursements.length > 0);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i3.RouterLink, i4.DecimalPipe, i4.CurrencyPipe, i4.DatePipe],\n      styles: [\".table[_ngcontent-%COMP%] {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 5px 10px;\\n}\\n\\n.table-danger[_ngcontent-%COMP%] {\\n  background-color: rgba(220, 53, 69, 0.1) !important;\\n}\\n\\n.btn-sm[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem;\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9yZW1ib3Vyc2VtZW50L3JlbWJvdXJzZW1lbnQtbGlzdC9yZW1ib3Vyc2VtZW50LWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLG1EQUFtRDtBQUNyRDs7QUFFQTtFQUNFLHVCQUF1QjtBQUN6QiIsInNvdXJjZXNDb250ZW50IjpbIi50YWJsZSB7XHJcbiAgYm94LXNoYWRvdzogMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxufVxyXG5cclxuLmNhcmQge1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbi5iYWRnZSB7XHJcbiAgcGFkZGluZzogNXB4IDEwcHg7XHJcbn1cclxuXHJcbi50YWJsZS1kYW5nZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjIwLCA1MywgNjksIDAuMSkgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmJ0bi1zbSB7XHJcbiAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07XHJcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction0","_c0","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","error","ctx_r3","getCreditType","ɵɵpipeBind2","credit","montant","tauxInteret","duree","date","ɵɵpureFunction3","_c1","etat","ɵɵlistener","RemboursementListComponent_div_9_tr_17_button_16_Template_button_click_0_listener","ɵɵrestoreView","_r13","remboursement_r7","ɵɵnextContext","$implicit","ctx_r11","ɵɵresetView","markAsPaid","ctx_r9","paymentProcessing","ɵɵtemplate","RemboursementListComponent_div_9_tr_17_button_16_Template","RemboursementListComponent_div_9_tr_17_span_17_Template","ɵɵpureFunction1","_c2","ctx_r6","isOverdue","ɵɵtextInterpolate","i_r8","dateEcheance","regle","dateRemboursement","RemboursementListComponent_div_9_tr_17_Template","ctx_r5","remboursements","length","getPaidRemboursementsCount","getTotalAmount","getPaidAmount","RemboursementListComponent","constructor","remboursementService","creditService","route","router","loading","ngOnInit","paramMap","subscribe","params","id","get","creditId","loadRemboursements","loadCreditDetails","navigate","getRemboursementsByCredit","next","data","err","console","getCredit","remboursement","confirm","today","Date","updatedRemboursement","index","findIndex","r","echeance","filter","reduce","sum","ɵɵdirectiveInject","i1","RemboursementService","i2","CreditService","i3","ActivatedRoute","Router","selectors","decls","vars","consts","template","RemboursementListComponent_Template","rf","ctx","RemboursementListComponent_a_4_Template","RemboursementListComponent_div_5_Template","RemboursementListComponent_div_6_Template","RemboursementListComponent_div_7_Template","RemboursementListComponent_div_8_Template","RemboursementListComponent_div_9_Template"],"sources":["C:\\ENSET\\S4\\JEE\\Elbatir_Elmahdi\\frontend\\src\\app\\components\\remboursement\\remboursement-list\\remboursement-list.component.ts","C:\\ENSET\\S4\\JEE\\Elbatir_Elmahdi\\frontend\\src\\app\\components\\remboursement\\remboursement-list\\remboursement-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { RemboursementService } from '../../../services/remboursement.service';\r\nimport { CreditService } from '../../../services/credit.service';\r\nimport { Remboursement } from '../../../models/remboursement.model';\r\nimport { Credit } from '../../../models/credit.model';\r\n\r\n@Component({\r\n  selector: 'app-remboursement-list',\r\n  templateUrl: './remboursement-list.component.html',\r\n  styleUrls: ['./remboursement-list.component.css']\r\n})\r\nexport class RemboursementListComponent implements OnInit {\r\n  remboursements: Remboursement[] = [];\r\n  creditId!: number;\r\n  credit?: Credit;\r\n  loading = true;\r\n  error: string | null = null;\r\n  paymentProcessing = false;\r\n\r\n  constructor(\r\n    private remboursementService: RemboursementService,\r\n    private creditService: CreditService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe(params => {\r\n      const id = params.get('creditId');\r\n      if (id) {\r\n        this.creditId = +id;\r\n        this.loadRemboursements();\r\n        this.loadCreditDetails();\r\n      } else {\r\n        this.router.navigate(['/credits']);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadRemboursements(): void {\r\n    this.loading = true;\r\n    this.remboursementService.getRemboursementsByCredit(this.creditId).subscribe({\r\n      next: (data) => {\r\n        this.remboursements = data;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Erreur lors du chargement des remboursements.';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadCreditDetails(): void {\r\n    this.creditService.getCredit(this.creditId).subscribe({\r\n      next: (data) => {\r\n        this.credit = data;\r\n      },\r\n      error: (err) => {\r\n        console.error('Erreur lors du chargement des détails du crédit', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  getCreditType(): string {\r\n    if (!this.credit) return '';\r\n    if ('montantAchat' in this.credit) {\r\n      return 'Immobilier';\r\n    } else if ('motif' in this.credit) {\r\n      return 'Personnel';\r\n    } else if ('nomProjet' in this.credit) {\r\n      return 'Professionnel';\r\n    }\r\n    return 'Inconnu';\r\n  }\r\n\r\n  markAsPaid(remboursement: Remboursement): void {\r\n    if (remboursement.regle) return;\r\n\r\n    if (confirm('Êtes-vous sûr de vouloir marquer cette échéance comme payée?')) {\r\n      this.paymentProcessing = true;\r\n      const today = new Date();\r\n      \r\n      this.remboursementService.markAsPaid(remboursement.id!, today).subscribe({\r\n        next: (updatedRemboursement) => {\r\n          const index = this.remboursements.findIndex(r => r.id === updatedRemboursement.id);\r\n          if (index !== -1) {\r\n            this.remboursements[index] = updatedRemboursement;\r\n          }\r\n          this.paymentProcessing = false;\r\n        },\r\n        error: (err) => {\r\n          this.error = 'Erreur lors de l\\'enregistrement du paiement.';\r\n          this.paymentProcessing = false;\r\n          console.error(err);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  isOverdue(remboursement: Remboursement): boolean {\r\n    if (remboursement.regle) return false;\r\n    const today = new Date();\r\n    const echeance = new Date(remboursement.dateEcheance);\r\n    return echeance < today;\r\n  }\r\n\r\n  getPaidRemboursementsCount(): number {\r\n    return this.remboursements.filter(r => r.regle).length;\r\n  }\r\n\r\n  getTotalAmount(): number {\r\n    return this.remboursements.reduce((sum, r) => sum + r.montant, 0);\r\n  }\r\n\r\n  getPaidAmount(): number {\r\n    return this.remboursements\r\n      .filter(r => r.regle)\r\n      .reduce((sum, r) => sum + r.montant, 0);\r\n  }\r\n} ","<div class=\"container mt-4\">\r\n  <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n    <h2>Échéancier de Remboursement</h2>\r\n    <a *ngIf=\"credit\" [routerLink]=\"['/credits']\" class=\"btn btn-secondary\">\r\n      <i class=\"bi bi-arrow-left\"></i> Retour aux crédits\r\n    </a>\r\n  </div>\r\n\r\n  <div *ngIf=\"loading\" class=\"text-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"error\" class=\"alert alert-danger\">\r\n    {{ error }}\r\n  </div>\r\n\r\n  <!-- Credit details card -->\r\n  <div *ngIf=\"credit && !loading\" class=\"card mb-4\">\r\n    <div class=\"card-header bg-primary text-white\">\r\n      <h5>Détails du Crédit</h5>\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <p><strong>Type:</strong> {{ getCreditType() }}</p>\r\n          <p><strong>Montant:</strong> {{ credit.montant | currency:'EUR' }}</p>\r\n          <p><strong>Taux d'intérêt:</strong> {{ credit.tauxInteret | number:'1.2-2' }}%</p>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <p><strong>Durée:</strong> {{ credit.duree }} mois</p>\r\n          <p><strong>Date:</strong> {{ credit.date | date:'dd/MM/yyyy' }}</p>\r\n          <p><strong>État:</strong> \r\n            <span [ngClass]=\"{\r\n              'badge bg-success': credit.etat === 'ACCEPTE',\r\n              'badge bg-danger': credit.etat === 'REFUSE',\r\n              'badge bg-warning text-dark': credit.etat === 'EN_ATTENTE'\r\n            }\">\r\n              {{ credit.etat }}\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Remboursements table -->\r\n  <div *ngIf=\"!loading && !error && remboursements.length === 0\" class=\"alert alert-info\">\r\n    Aucun échéancier de remboursement n'est disponible pour ce crédit.\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && !error && remboursements.length > 0\" class=\"table-responsive\">\r\n    <table class=\"table table-striped table-hover\">\r\n      <thead>\r\n        <tr>\r\n          <th>Numéro</th>\r\n          <th>Date d'Échéance</th>\r\n          <th>Montant</th>\r\n          <th>État</th>\r\n          <th>Date de Remboursement</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let remboursement of remboursements; let i = index\" [ngClass]=\"{'table-danger': isOverdue(remboursement)}\">\r\n          <td>{{ i + 1 }}</td>\r\n          <td>{{ remboursement.dateEcheance | date:'dd/MM/yyyy' }}</td>\r\n          <td>{{ remboursement.montant | currency:'EUR' }}</td>\r\n          <td>\r\n            <span class=\"badge\" [ngClass]=\"remboursement.regle ? 'bg-success' : 'bg-danger'\">\r\n              {{ remboursement.regle ? 'Payé' : 'Non payé' }}\r\n            </span>\r\n          </td>\r\n          <td>{{ remboursement.dateRemboursement ? (remboursement.dateRemboursement | date:'dd/MM/yyyy') : 'N/A' }}</td>\r\n          <td>\r\n            <button \r\n              *ngIf=\"!remboursement.regle\" \r\n              class=\"btn btn-sm btn-success\" \r\n              (click)=\"markAsPaid(remboursement)\" \r\n              [disabled]=\"paymentProcessing\"\r\n            >\r\n              <i class=\"bi bi-check-circle\"></i> Marquer comme payé\r\n            </button>\r\n            <span *ngIf=\"remboursement.regle\" class=\"text-muted\">\r\n              <i class=\"bi bi-check-circle-fill\"></i> Remboursé\r\n            </span>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- Summary -->\r\n    <div class=\"card mt-4\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <p><strong>Total des échéances:</strong> {{ remboursements.length }}</p>\r\n            <p><strong>Échéances payées:</strong> {{ getPaidRemboursementsCount() }}</p>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <p><strong>Montant total:</strong> {{ getTotalAmount() | currency:'EUR' }}</p>\r\n            <p><strong>Montant payé:</strong> {{ getPaidAmount() | currency:'EUR' }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}